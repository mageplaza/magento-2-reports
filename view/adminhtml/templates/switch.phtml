<?php
/**
 * Mageplaza
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Mageplaza.com license that is
 * available through the world-wide-web at this URL:
 * https://www.mageplaza.com/LICENSE.txt
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Mageplaza
 * @package     Mageplaza_Reports
 * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)
 * @license     https://www.mageplaza.com/LICENSE.txt
 */
?>
<section class="mp-dashboard-advanced-reports" data-index="dashboard-advanced-reports">
    <div class="mp-remove-dashboard-advanced-reports"></div>
    <div class="mp-dashboard-advanced-reports-description">
        <header class="mp-dashboard-advanced-reports-title">
            <?= $block->escapeHtml(__('Mageplaza Advanced Reporting')) ?>
        </header>
        <div class="mp-dashboard-advanced-reports-content">
            <?= $block->escapeHtml(
                __('The better reports provides ecommerce insights across performance metrics, product sales, customers, and cost of goods sold. Instantly measure metrics like customer lifetime value, gross margin, net profit, and more to build and automate high-quality ecommerce reports.')
            ) ?>
        </div>
    </div>
    <div class="mp-dashboard-advanced-reports-actions">
        <a href="<?= $block->escapeUrl($block->getUrl('mpreports/dashboard/switchtonew')) ?>"
           class="action mp-action-advanced-reports"
           title="<?= $block->escapeHtml(__('Try to use new Dashboard')) ?>">
            <span><?= $block->escapeHtml(__('Try to use new Dashboard')) ?></span>
        </a>
    </div>
</section>
<script>
    require(['jquery'], function ($) {
        $('.mp-remove-dashboard-advanced-reports').on('click', function () {
            $('.mp-dashboard-advanced-reports').remove();
            $.ajax({
                url: '<?= /** @noEscape */ $block->getUrl('mpreports/dashboard/switchtonew', ['form_key' => $block->getFormKey()]) ?>',
            })
        });
    })
</script>
